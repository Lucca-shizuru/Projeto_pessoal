package tela.usuario;
import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

    public class TelaCadastroDeLivros extends JFrame{
        private JTextField Titulo;
        private JTextField Autor;
        private JComboBox Genero;
        private JButton botaoSalvar;
        private JButton botaoCancelar;
        private Avaliacao avaliacao;


        public TelaCadastroDeLivros() {
            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            setSize(400,200);
            setLocationRelativeTo(null);
            setLayout(new GridBagLayout());
            GridBagConstraints gbc = new GridBagConstraints();
            gbc.insets = new Insets(5, 5, 5, 5);
            gbc.fill = GridBagConstraints.HORIZONTAL;

            // Adiciona componentes à tela com GridBagConstraints
            gbc.gridx = 0;
            gbc.gridy = 0;
            add(new JLabel("Título:"), gbc);

            gbc.gridx = 1;
            gbc.gridy = 0;
            Titulo = new JTextField(20);
            add(Titulo, gbc);

            gbc.gridx = 0;
            gbc.gridy = 1;
            add(new JLabel("Autor:"), gbc);

            gbc.gridx = 1;
            gbc.gridy = 1;
            Autor = new JTextField(20);
            add(Autor, gbc);

            gbc.gridx = 0;
            gbc.gridy = 2;
            add(new JLabel("Gênero:"), gbc);

            gbc.gridx = 1;
            gbc.gridy = 2;
            Genero = new JComboBox<>(new String[]{"Ficção", "Suspense", "Romance", "Aventura", "Fantasia", "Terror"});
            add(Genero, gbc);

            gbc.gridx = 0;
            gbc.gridy = 3;
            add(new JLabel("Avaliação:"), gbc);

            gbc.gridx = 1;
            gbc.gridy = 3;
            avaliacao = new Avaliacao(0); // Inicializa com 0 estrelas
            add(avaliacao, gbc);

            // Adiciona botões de salvar e cancelar
            gbc.gridx = 0;
            gbc.gridy = 4;
            botaoSalvar = new JButton("Salvar");
            add(botaoSalvar, gbc);

            gbc.gridx = 1;
            gbc.gridy = 4;
            botaoCancelar = new JButton("Cancelar");
            add(botaoCancelar, gbc);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
            botaoSalvar.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    String titulo = Titulo.getText();
                    String autor = Autor.getText();
                    String genero = (String) Genero.getSelectedItem();
                    int avaliacaoValue = avaliacao.getAvaliacao();


                    // Verifica se todos os campos foram preenchidos
                    if (titulo.isEmpty() || autor.isEmpty() || genero.isEmpty()) {
                        JOptionPane.showMessageDialog(TelaCadastroDeLivros.this, "Por favor, preencha todos os campos.", "Erro", JOptionPane.ERROR_MESSAGE);
                    }
                    else{
                        Livro livro = new Livro(titulo,autor,genero,avaliacaoValue);
                        LivroDatabase.adicionarLivro(livro);
                        JOptionPane.showMessageDialog(TelaCadastroDeLivros.this,"Cadastrado com sucesso ");

                        TelaFeed telaFeed = new TelaFeed();
                        telaFeed.setVisible(true);
                    }

                }
            });
            botaoCancelar.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    TelaLogin telaLogin = new TelaLogin();
                    telaLogin.setVisible(true);



                }
            });


        }
}
